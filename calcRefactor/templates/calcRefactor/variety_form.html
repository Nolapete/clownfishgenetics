{% extends 'calcRefactor/base.html' %}

<!-- Update the title to reflect "Create Variety" -->
{% block title %}Create New Variety{% endblock title %} {% block content %}
<h1 class="text-3xl font-bold text-gray-800 mb-6">
    Create a New Clownfish Variety
</h1>

<div class="bg-white shadow-lg rounded-lg p-6 max-w-lg mx-auto">
    <!-- The form points to the current URL defined by the view -->
    <form method="post" class="space-y-4">
        {% csrf_token %}
        <!-- Django security feature -->

        <!-- Display any general form errors -->
        {% if form.errors and not form.instance.pk %}
        <div class="p-4 mb-4 text-sm text-red-700 bg-red-100 rounded-lg">
            <p>Please correct the following errors:</p>
            <ul class="list-disc ml-4">
                {{ form.non_field_errors|safe }}
            </ul>
        </div>
        {% endif %}

        <!-- Render the form fields manually for better styling control -->
        {% for field in form %}
        <div class="flex flex-col">
            <label
                    for="{{ field.id_for_label }}"
                    class="mb-1 font-semibold text-gray-700"
            >
                {{ field.label }}
            </label>
            <!-- Apply standard Tailwind input styles -->
            {{ field }} {% if field.help_text %}
            <p class="text-sm text-gray-500 mt-1">{{ field.help_text }}</p>
            {% endif %} {% for error in field.errors %}
            <p class="text-sm text-red-500 mt-1">{{ error }}</p>
            {% endfor %}
        </div>
        {% endfor %}

        <!-- Use a primary button style for the submit button -->
        <button
                type="submit"
                class="bg-blue-600 hover:bg-blue-700 text-white font-bold py-2 px-4 rounded shadow transition duration-200"
        >
            Save Variety
        </button>
    </form>
</div>

<hr class="my-6"/>
<p>
    <!-- Use an outlined button style for the "Back" link -->
    <a
            href="{% url 'variety-list' %}"
            class="border border-gray-400 text-gray-700 hover:bg-gray-400 hover:text-white font-semibold py-2 px-4 rounded transition duration-200"
    >
        Back to Variety List
    </a>
</p>
{% endblock content %}
